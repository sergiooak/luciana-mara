const BASE_URL  = 'https://lucianamara.com.br';
const API_URL   = 'https://wplucianamara1.websiteseguro.com'
const TOKEN     = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvd3BsdWNpYW5hbWFyYTEud2Vic2l0ZXNlZ3Vyby5jb20iLCJpYXQiOjE1OTE2MDczNTcsIm5iZiI6MTU5MTYwNzM1NywiZXhwIjoxNTk0MTk5MzU3LCJkYXRhIjp7InVzZXIiOnsiaWQiOiIxIn19fQ.7wfIOrTFP6OB6XO9bpH2PptnvclTJvaH_yF07O4WCjk'


export const state = () => ({
  items: {},
  loading: true,
  trending: {
    loading: true,
    items: [{"id":254,"name":"Vestido de laço","slug":"vestido-de-laco","permalink":"https://wplucianamara1.websiteseguro.com/produto/vestido-de-laco/","date_created":"2020-05-30T22:56:32","date_created_gmt":"2020-05-31T01:56:32","date_modified":"2020-06-01T05:43:47","date_modified_gmt":"2020-06-01T08:43:47","type":"simple","status":"publish","featured":true,"catalog_visibility":"visible","description":"<p>Vestido de laço feito no two way</p>\n","short_description":"","sku":"","price":"139.90","regular_price":"139.90","sale_price":"","date_on_sale_from":null,"date_on_sale_from_gmt":null,"date_on_sale_to":null,"date_on_sale_to_gmt":null,"price_html":"<span class=\"woocommerce-Price-amount amount\"><span class=\"woocommerce-Price-currencySymbol\">&#82;&#36;</span>139,90</span>","on_sale":false,"purchasable":true,"total_sales":0,"virtual":false,"downloadable":false,"downloads":[],"download_limit":-1,"download_expiry":-1,"external_url":"","button_text":"","tax_status":"taxable","tax_class":"","manage_stock":false,"stock_quantity":null,"stock_status":"instock","backorders":"no","backorders_allowed":false,"backordered":false,"sold_individually":false,"weight":"1","dimensions":{"length":"27","width":"39","height":"7"},"shipping_required":true,"shipping_taxable":true,"shipping_class":"","shipping_class_id":0,"reviews_allowed":true,"average_rating":"0.00","rating_count":0,"related_ids":[18,143,115,75,123],"upsell_ids":[],"cross_sell_ids":[],"parent_id":0,"purchase_note":"","categories":[{"id":16,"name":"feminino","slug":"feminino"},{"id":17,"name":"vestido","slug":"vestido"}],"tags":[{"id":20,"name":"tubinho","slug":"tubinho"},{"id":18,"name":"vestido","slug":"vestido"},{"id":57,"name":"vestido de laço","slug":"vestido-de-laco"}],"images":[{"id":85,"date_created":"2020-05-25T05:57:33","date_created_gmt":"2020-05-25T11:57:33","date_modified":"2020-05-25T05:57:33","date_modified_gmt":"2020-05-25T11:57:33","src":"https://res.cloudinary.com/luciana-mara/image/upload/v1590407856/woocommerce/IMG_3925.jpg","name":"IMG_3925","alt":""},{"id":87,"date_created":"2020-05-25T05:58:05","date_created_gmt":"2020-05-25T11:58:05","date_modified":"2020-05-25T05:58:05","date_modified_gmt":"2020-05-25T11:58:05","src":"https://res.cloudinary.com/luciana-mara/image/upload/v1590407889/woocommerce/IMG_3937-Cópia.jpg","name":"IMG_3937 &#8211; Cópia","alt":""},{"id":86,"date_created":"2020-05-25T05:57:49","date_created_gmt":"2020-05-25T11:57:49","date_modified":"2020-05-25T05:57:49","date_modified_gmt":"2020-05-25T11:57:49","src":"https://res.cloudinary.com/luciana-mara/image/upload/v1590407873/woocommerce/IMG_3928.jpg","name":"IMG_3928","alt":""}],"attributes":[{"id":0,"name":"Tamanhos","position":0,"visible":true,"variation":false,"options":["34","36","38","40","42","44","46","48"]}],"default_attributes":[],"variations":[],"grouped_products":[],"menu_order":0,"meta_data":[{"id":1896,"key":"personalizavel","value":"0"},{"id":1897,"key":"_personalizavel","value":"field_5ecbef9e7fc59"}],"_links":{"self":[{"href":"https://wplucianamara1.websiteseguro.com/wp-json/wc/v3/products/254"}],"collection":[{"href":"https://wplucianamara1.websiteseguro.com/wp-json/wc/v3/products"}]}},{"id":251,"name":"Jaleco Tainara branco","slug":"jaleco-tainara-branco","permalink":"https://wplucianamara1.websiteseguro.com/produto/jaleco-tainara-branco/","date_created":"2020-05-30T22:40:56","date_created_gmt":"2020-05-31T01:40:56","date_modified":"2020-06-01T05:44:04","date_modified_gmt":"2020-06-01T08:44:04","type":"simple","status":"publish","featured":true,"catalog_visibility":"visible","description":"<p>Jaleco feminino Tainara branco com detalhes em renda</p>\n","short_description":"","sku":"","price":"199.90","regular_price":"199.90","sale_price":"","date_on_sale_from":null,"date_on_sale_from_gmt":null,"date_on_sale_to":null,"date_on_sale_to_gmt":null,"price_html":"<span class=\"woocommerce-Price-amount amount\"><span class=\"woocommerce-Price-currencySymbol\">&#82;&#36;</span>199,90</span>","on_sale":false,"purchasable":true,"total_sales":0,"virtual":false,"downloadable":false,"downloads":[],"download_limit":-1,"download_expiry":-1,"external_url":"","button_text":"","tax_status":"taxable","tax_class":"","manage_stock":false,"stock_quantity":null,"stock_status":"instock","backorders":"no","backorders_allowed":false,"backordered":false,"sold_individually":false,"weight":"1","dimensions":{"length":"27","width":"39","height":"7"},"shipping_required":true,"shipping_taxable":true,"shipping_class":"","shipping_class_id":0,"reviews_allowed":true,"average_rating":"0.00","rating_count":0,"related_ids":[245,92,75,89,12],"upsell_ids":[],"cross_sell_ids":[],"parent_id":0,"purchase_note":"","categories":[{"id":16,"name":"feminino","slug":"feminino"},{"id":43,"name":"jaleco","slug":"jaleco"},{"id":44,"name":"jaleco","slug":"jaleco-2"}],"tags":[{"id":49,"name":"jaleco com renda","slug":"jaleco-com-renda"},{"id":47,"name":"jaleco de luxo","slug":"jaleco-de-luxo"},{"id":45,"name":"jaleco feminino","slug":"jaleco-feminino"}],"images":[{"id":80,"date_created":"2020-05-25T05:55:56","date_created_gmt":"2020-05-25T11:55:56","date_modified":"2020-05-25T05:55:56","date_modified_gmt":"2020-05-25T11:55:56","src":"https://res.cloudinary.com/luciana-mara/image/upload/v1590407760/woocommerce/2-branco.jpg","name":"2- branco","alt":""}],"attributes":[{"id":0,"name":"Tamanhos","position":0,"visible":true,"variation":false,"options":["P","M","G","GG"]}],"default_attributes":[],"variations":[],"grouped_products":[],"menu_order":0,"meta_data":[{"id":1810,"key":"personalizavel","value":"0"},{"id":1811,"key":"_personalizavel","value":"field_5ecbef9e7fc59"}],"_links":{"self":[{"href":"https://wplucianamara1.websiteseguro.com/wp-json/wc/v3/products/251"}],"collection":[{"href":"https://wplucianamara1.websiteseguro.com/wp-json/wc/v3/products"}]}},{"id":120,"name":"Blusa tradicional manga japonesa com detalhes","slug":"blusa-tradicional-manga-japonesa-com-detalhes","permalink":"https://wplucianamara1.websiteseguro.com/produto/blusa-tradicional-manga-japonesa-com-detalhes/","date_created":"2020-05-27T18:44:43","date_created_gmt":"2020-05-27T21:44:43","date_modified":"2020-06-01T05:44:24","date_modified_gmt":"2020-06-01T08:44:24","type":"simple","status":"publish","featured":true,"catalog_visibility":"visible","description":"<p>Blusa feminina tradicional manga japonesa com detalhes</p>\n","short_description":"","sku":"","price":"103.90","regular_price":"103.90","sale_price":"","date_on_sale_from":null,"date_on_sale_from_gmt":null,"date_on_sale_to":null,"date_on_sale_to_gmt":null,"price_html":"<span class=\"woocommerce-Price-amount amount\"><span class=\"woocommerce-Price-currencySymbol\">&#82;&#36;</span>103,90</span>","on_sale":false,"purchasable":true,"total_sales":0,"virtual":false,"downloadable":false,"downloads":[],"download_limit":-1,"download_expiry":-1,"external_url":"","button_text":"","tax_status":"taxable","tax_class":"","manage_stock":false,"stock_quantity":null,"stock_status":"instock","backorders":"no","backorders_allowed":false,"backordered":false,"sold_individually":false,"weight":"1","dimensions":{"length":"27","width":"39","height":"7"},"shipping_required":true,"shipping_taxable":true,"shipping_class":"","shipping_class_id":0,"reviews_allowed":true,"average_rating":"0.00","rating_count":0,"related_ids":[122,18,124,123,143],"upsell_ids":[],"cross_sell_ids":[],"parent_id":0,"purchase_note":"","categories":[{"id":25,"name":"blusas","slug":"blusas"},{"id":16,"name":"feminino","slug":"feminino"}],"tags":[{"id":26,"name":"Blusa","slug":"blusa"},{"id":28,"name":"blusa feminina","slug":"blusa-feminina"},{"id":27,"name":"blusa social","slug":"blusa-social"}],"images":[{"id":50,"date_created":"2020-05-25T05:45:11","date_created_gmt":"2020-05-25T11:45:11","date_modified":"2020-05-25T05:45:11","date_modified_gmt":"2020-05-25T11:45:11","src":"https://res.cloudinary.com/luciana-mara/image/upload/v1590407114/woocommerce/IMG_4223-Cópia.jpg","name":"IMG_4223 &#8211; Cópia","alt":""},{"id":51,"date_created":"2020-05-25T05:45:29","date_created_gmt":"2020-05-25T11:45:29","date_modified":"2020-05-25T05:45:29","date_modified_gmt":"2020-05-25T11:45:29","src":"https://res.cloudinary.com/luciana-mara/image/upload/v1590407133/woocommerce/IMG_4225-Cópia.jpg","name":"IMG_4225 &#8211; Cópia","alt":""},{"id":53,"date_created":"2020-05-25T05:45:47","date_created_gmt":"2020-05-25T11:45:47","date_modified":"2020-05-25T05:45:47","date_modified_gmt":"2020-05-25T11:45:47","src":"https://res.cloudinary.com/luciana-mara/image/upload/v1590407150/woocommerce/IMG_4226-Cópia.jpg","name":"IMG_4226 &#8211; Cópia","alt":""}],"attributes":[{"id":0,"name":"Tamanhos","position":0,"visible":true,"variation":false,"options":["36","38","40","42","44","46","48","50"]}],"default_attributes":[],"variations":[],"grouped_products":[],"menu_order":0,"meta_data":[{"id":1018,"key":"personalizavel","value":"0"},{"id":1019,"key":"_personalizavel","value":"field_5ecbef9e7fc59"}],"_links":{"self":[{"href":"https://wplucianamara1.websiteseguro.com/wp-json/wc/v3/products/120"}],"collection":[{"href":"https://wplucianamara1.websiteseguro.com/wp-json/wc/v3/products"}]}},{"id":16,"name":"Blazer sem gola","slug":"blazer-sem-gola","permalink":"https://wplucianamara1.websiteseguro.com/produto/blazer-sem-gola/","date_created":"2020-05-25T08:24:39","date_created_gmt":"2020-05-25T11:24:39","date_modified":"2020-06-01T05:44:53","date_modified_gmt":"2020-06-01T08:44:53","type":"simple","status":"publish","featured":true,"catalog_visibility":"visible","description":"<p>Blazer feminino preto sem gola.</p>\n","short_description":"","sku":"","price":"139.90","regular_price":"139.90","sale_price":"","date_on_sale_from":null,"date_on_sale_from_gmt":null,"date_on_sale_to":null,"date_on_sale_to_gmt":null,"price_html":"<span class=\"woocommerce-Price-amount amount\"><span class=\"woocommerce-Price-currencySymbol\">&#82;&#36;</span>139,90</span>","on_sale":false,"purchasable":true,"total_sales":0,"virtual":false,"downloadable":false,"downloads":[],"download_limit":-1,"download_expiry":-1,"external_url":"","button_text":"","tax_status":"taxable","tax_class":"","manage_stock":false,"stock_quantity":null,"stock_status":"instock","backorders":"no","backorders_allowed":false,"backordered":false,"sold_individually":false,"weight":"1","dimensions":{"length":"27","width":"39","height":"7"},"shipping_required":true,"shipping_taxable":true,"shipping_class":"","shipping_class_id":0,"reviews_allowed":true,"average_rating":"0.00","rating_count":0,"related_ids":[39,118,123,75,119],"upsell_ids":[],"cross_sell_ids":[],"parent_id":0,"purchase_note":"","categories":[{"id":21,"name":"casaco","slug":"casaco"},{"id":16,"name":"feminino","slug":"feminino"}],"tags":[{"id":23,"name":"blazer","slug":"blazer"},{"id":22,"name":"blazer feminino","slug":"blazer-feminino"},{"id":24,"name":"casaco","slug":"casaco"}],"images":[{"id":17,"date_created":"2020-05-25T05:25:29","date_created_gmt":"2020-05-25T11:25:29","date_modified":"2020-05-25T05:25:29","date_modified_gmt":"2020-05-25T11:25:29","src":"https://res.cloudinary.com/luciana-mara/image/upload/v1590405933/woocommerce/IMG_8083.jpg","name":"IMG_8083","alt":""}],"attributes":[{"id":0,"name":"Tamanhos","position":0,"visible":true,"variation":false,"options":["36","38","40","42","44","46","48","50"]}],"default_attributes":[],"variations":[],"grouped_products":[],"menu_order":0,"meta_data":[],"_links":{"self":[{"href":"https://wplucianamara1.websiteseguro.com/wp-json/wc/v3/products/16"}],"collection":[{"href":"https://wplucianamara1.websiteseguro.com/wp-json/wc/v3/products"}]}}]
  },
  current: {
    loading: true,
    item: {
      id: 92,
      name: "Blusa Mayla",
      slug: "blusa-mayla",
      description: "<p>Blusa feminina modelo Mayla branca com detalhes preto</p>\n",
      price: "99.90",
      purchasable: true,
      stock_status: "instock",
      backorders: "no",
      backorders_allowed: false,
      weight: "1",
      dimensions: {length:"27", width: "39", height: "7"},
      related_ids: [16,82,18,89,12],
      categories: [
          {"id":25, name: "blusas", slug: "blusas"},
          {"id":16, name: "feminino", slug: "feminino"}
        ],
      tags: [
          {"id":26, name: "Blusa", slug: "blusa"},
          {"id":28, name: "blusa feminina", slug: "blusa-feminina"},
          {"id":27, name: "blusa social", slug: "blusa-social"}
        ],
      images: [
        {"id":35,"date_created":"2020-05-25T05:40:27","date_created_gmt":"2020-05-25T11:40:27","date_modified":"2020-05-25T05:40:27","date_modified_gmt":"2020-05-25T11:40:27","src":"https://res.cloudinary.com/luciana-mara/image/upload/v1590406831/woocommerce/IMG_8011.jpg","name":"IMG_8011","alt":""},
        {"id":36,"date_created":"2020-05-25T05:40:53","date_created_gmt":"2020-05-25T11:40:53","date_modified":"2020-05-25T05:40:53","date_modified_gmt":"2020-05-25T11:40:53","src":"https://res.cloudinary.com/luciana-mara/image/upload/v1590406856/woocommerce/IMG_8035.jpg","name":"IMG_8035","alt":""}
      ],
      attributes: [
        {
          "id":0,
          "name": "Tamanhos",
          "position": 0,
          "visible": true,
          "variation": false,
          "options": ["PP","P","M","G","GG"]
        }
      ]
      }
    }
})

export const mutations = {
  toggle (state, products) {
    state.items = products
    state.loading = false
  },
  toggleTrending (state, products) {
    state.trending.items = products
    state.trending.loading = false
  },
  toggleCurrent (state, product) {
    state.current.loading = false
    state.current.item = product
  }
}

export const actions = {
  retrieve(context, $axios) {
    let config = {
      headers: {
        'Authorization': 'Bearer ' + TOKEN
      }
    }

    var vm = this
    vm.$axios
      .$get(`${API_URL}/wp-json/wc/v3/products?per_page=100&status=publish`, config)
      .then(function(res) {
          context.commit("toggle", res);
      })
      .catch(function(error) {
          console.log(error);
      });

    vm.$axios
      .$get(`${API_URL}/wp-json/wc/v3/products?per_page=4&status=publish&featured=true`, config)
      .then(function(res) {
          context.commit("toggleTrending", res);
      })
      .catch(function(error) {
          console.log(error);
      });
  },
  retrieveSingle(context, payload, $axios) {
    let config = {
      headers: {
        'Authorization': 'Bearer ' + TOKEN
      }
    }

    var vm = this
    vm.$axios
      .$get(`${API_URL}/wp-json/wc/v3/products?status=publish&slug=${payload}`, config)
      .then(function(res) {
        console.log(res);
          context.commit("toggleCurrent", res[0]);
      })
      .catch(function(error) {
          console.log(error);
      });
  }
};
